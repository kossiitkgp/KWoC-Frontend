<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="description"
    content="Welcome to Kharagpur Winter of Code 2023, an event that helps students take their first steps in the vast world of Open-Source. Organized by Kharagpur Open Source Society, we organize this free of cost event to encourage new and budding minds to explore the spirit of Free and Open Source Software." />
  <link rel="icon" type="image/png" href="/kwoc_logo.png" />
  <meta name="theme-color" content="#04142E" />
  <!--PLACEHOLDER, MIGHT CHANGE WHEN WE DECIDE THEME-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!--Social Media card tags-->
  <meta property="og:title" content="Kharagpur Winter of Code 2023" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/banner.png" />
  <meta property="twitter:image" content="/banner.png" />
  <meta property="og:url" content="https://kwoc.kossiitkgp.org/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta property="og:description"
    content="Opportunity for students to explore the world of Free and Open Source Software." />
  <meta property="og:site_name" content="Kharagpur Winter of Code 2023" />
  <meta name="twitter:image:alt" content="Kharagpur Winter of Code logo" />

  <title>Kharagpur Winter of Code | For the love of Open Source</title>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
    const container = document.body;
    const snowflakeSVGs = [
        '/src/assets/snowflake1.svg',
        '/src/assets/snowflake2.svg',
        '/src/assets/snowflake3.svg'
    ];

    let lastTimestamp = 0;
    const throttleTime = 65; // Set the throttle time in milliseconds

    function createSnowflake(event) {
        const now = Date.now();
        if (now - lastTimestamp < throttleTime) {
            return; // Throttle the creation of snowflakes
        }
        lastTimestamp = now;

        const snowflake = document.createElement("div");
        snowflake.className = "snowflake";
        const randomSnowflakeIndex = Math.floor(Math.random() * snowflakeSVGs.length);
        const randomSize = Math.floor(Math.random() * 20) + 10; // Random size between 10 and 30
        const randomColor = `rgb(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)})`;

        const offsetX = event.clientX;
        const offsetY = event.clientY;

        snowflake.style.width = `${randomSize}px`;
        snowflake.style.height = `${randomSize}px`;
        snowflake.style.color = randomColor;

        const img = new Image();
        img.src = snowflakeSVGs[randomSnowflakeIndex];
        img.width = randomSize;
        img.height = randomSize;

        img.onload = function () {
            snowflake.appendChild(img);

            snowflake.style.position = "fixed";
            snowflake.style.left = `${offsetX - randomSize / 2}px`; // Center the snowflake around the cursor
            snowflake.style.top = `${offsetY - randomSize / 2}px`;  // Center the snowflake around the cursor

            container.appendChild(snowflake);

            // Animate the snowflake falling down
            const animation = snowflake.animate(
                [
                    { transform: `translate(0, 0)` }, // Initial position centered around the cursor
                    { transform: `translate(0, ${window.innerHeight + randomSize}px)` }
                ],
                {
                    duration: Math.floor(Math.random() * 3000) + 1000, // Shorter duration, random between 1000 and 4000 milliseconds
                    easing: "linear"
                }
            );

            animation.onfinish = () => {
                snowflake.remove();
            };
        };
    }

    document.addEventListener("mousemove", function (event) {
        createSnowflake(event);
    });

    // Adjust snowflake positions when scrolling
    document.addEventListener("scroll", function () {
        const snowflakes = document.querySelectorAll(".snowflake");
        snowflakes.forEach(snowflake => {
            const offsetY = parseFloat(snowflake.style.top.replace("px", ""));
            snowflake.style.top = `${offsetY + window.scrollY}px`;
        });
    });
});

  </script>
</body>

</html>